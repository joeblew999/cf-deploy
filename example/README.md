# cf-deploy Example

A working Cloudflare Worker managed by [cf-deploy](https://github.com/joeblew999/cf-deploy).

**Live**: https://cf-deploy-example.gedw99.workers.dev

## How cf-deploy connects to this project

```
wrangler.toml    ← cf-deploy reads worker name + assets dir from here
package.json     ← cf-deploy reads "version" from here
src/index.ts     ← /api/health reads APP_VERSION from env (injected by cf-deploy upload)
public/
  index.html           ← your page — includes <cf-version-picker>
  version-picker.js    ← auto-copied by cf-deploy on every upload
  versions.json        ← generated by cf-deploy versions-json (before upload)
```

No `cf-deploy.yml` — everything comes from `wrangler.toml`.

## Run locally

```sh
bun install
bun x wrangler dev    # http://localhost:8788
```

## Deploy

```sh
bunx cf-deploy versions-json    # generate manifest from existing versions
bunx cf-deploy upload            # tagged upload, preview URL printed
bunx cf-deploy smoke <url>       # health + index checks
bunx cf-deploy promote           # send to 100% traffic
```
